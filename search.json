[{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Malone Disturbance Ecology Lab Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/articles/ERA5Flux.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"Getting Started","text":"package designed make easier work ERA5 AmeriFlux data, hence name “ERA5Flux”. may instances AmeriFlux data contain gaps want fill ERA5 data create single time series analysis. demonstration workflow needed achieve result.","code":""},{"path":[]},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/articles/ERA5Flux.html","id":"step-0-get-ameriflux-data-and-site-metadata","dir":"Articles","previous_headings":"Workflow","what":"Step 0: Get AmeriFlux data and site metadata","title":"Getting Started","text":"First need download AmeriFlux data. Navigate AmeriFlux login account. ’re logged , can download data Download page. presented options types data products like download. Select AmeriFlux BASE select CC--4.0 data use policy follow. next step, pick sites like, write short description intended use data agree license. Finally, presented data download page download links requested sites. Click download links get zip file site. also need click “Requested_Files” download link get metadata text file request. download “requested_files_manifest_YYYYMMDD.txt”. ’ve downloaded everything, unzip site zip files. ensure rest workflow runs smoothly, recommend arrange files like : arranging files, can now generate AmeriFlux site metadata. example, folder called unzipped_AmeriFlux_data contains unzipped site folders requested files manifest. metadata data frame 5 columns: site_codes, lat, lon, startdate, enddate, variables. need metadata order build ERA5 data requests.","code":"your-working-directory/ ├── unzipped_AmeriFlux_data/           │   ├── unzipped_site1_folder/   │   │   ├── *.csv │   │   └── *.xlsx │   │ │   ├── unzipped_site2_folder/ │   │   ├── *.csv │   │   └── *.xlsx │   │ │   ├── unzipped_site3_folder/ │   │   ├── *.csv │   │   └── *.xlsx │   │ │   └── requested_files_manifest_YYYYMMDD.txt │ ├── site1_data.zip   ├── site2_data.zip  ├── site3_data.zip  │ └── more stuff/                    ├── ...        └── ... # Load the package library(ERA5Flux)  # Specify the ERA5 variables you want to get my_variables <- c(\"surface_solar_radiation_downwards\")  # Point to the folder containing the unzipped site folders and requested files manifest my_folder <- system.file(\"extdata\", \"unzipped_AmeriFlux_data\", package = \"ERA5Flux\")  # Generate the AmeriFlux site metadata file my_site_metadata <- get_site_metadata(folder = my_folder,                                       selected_variables = my_variables) #> selected variables: surface_solar_radiation_downwards #> Now checking: US-GL2 #> Rows: 7248 Columns: 1 #> ── Column specification ──────────────────────────────────────────────────────── #> Delimiter: \",\" #> dbl (1): TIMESTAMP_START #>  #> ℹ Use `spec()` to retrieve the full column specification for this data. #> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.  my_site_metadata #>   site_codes     lat      lon   startdate      enddate #> 1     US-GL2 46.7167 -87.4000 2.02501e+11 202505312330 #>                           variables #> 1 surface_solar_radiation_downwards"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/articles/ERA5Flux.html","id":"step-1-download-era5-data","dir":"Articles","previous_headings":"Workflow","what":"Step 1: Download ERA5 Data","title":"Getting Started","text":"get AmeriFlux site metadata, can now go ahead download ERA5 data. , steps need . First, make sure create account Copernicus Climate Data Store haven’t done already. may need accept data license agreement first can download data. Visit Climate Data Store User Profile page accept appropriate license(s). , download_ERA5() requires land-sea mask must download first get_land_sea_mask(). function download land-sea mask Now ready download ERA5 data. Copy paste Climate Data Store API token my_token argument. Provide AmeriFlux site metadata site_metadata, set file path land-sea mask well. Finally, specify folder path want download ERA5 data .","code":"# Download the land-sea mask if you haven't done so already get_land_sea_mask() # Paste your token  my_token <- \"my_ECMWF_token\"  # Set the path to your land-sea mask path_to_mask <- \"lsm_1279l4_0.1x0.1.grb_v4_unpack.nc\"  # Point to the folder where you want the ERA5 data to download to my_download_path <- \"path_to_ERA5_download_folder\"  # Download the ERA5 data download_ERA5(my_token = my_token,               site_metadata = my_site_metadata,               mask = path_to_mask,               download_path = my_download_path)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/articles/ERA5Flux.html","id":"step-2-data-processing","dir":"Articles","previous_headings":"Workflow","what":"Step 2: Data Processing","title":"Getting Started","text":"downloading ERA5 .nc files, convert CSV files formatted match AmeriFlux standards, enabling easy merging existing datasets. conversion handled netcdf_df_formatter(), adjusts ERA5 timestamps UTC local time (yyyyMMddHHmm) based site’s coordinates converts solar radiation (ssrd), air temperature (t2m), total precipitation (tp) AmeriFlux units. netcdf_to_csv() function calls netcdf_df_formatter() site folder, merging relevant data site year output CSV contains one site’s data one year. full_year = TRUE, function return full years begin first hour year end last. purposes example, set full_year = FALSE.","code":"# Point to a folder containing ERA5 .nc files site_folder <- system.file(\"extdata\", \"path_to_ERA5_download_folder\", package = \"ERA5Flux\")  # Specify a site name site_name <- \"US_GL2\"  # Create a temporary directory to export our output to output_filepath <- tempdir()  # Convert NetCDF data to a CSV file netcdf_to_csv(site_folder, output_filepath, site_name, full_year = FALSE) #> Saved: US_GL2_2024_2025_ssrd.csv  # Read the CSV back in data <- read.csv(list.files(output_filepath, pattern = \"US_GL2\", full.names = TRUE))  head(data) #>           time     ssrd #> 1 202412311900 663.4275 #> 2 202412312000   0.0000 #> 3 202412312100   0.0000 #> 4 202412312200   0.0000 #> 5 202412312300   0.0000 #> 6 202501010000   0.0000"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/articles/ERA5Flux.html","id":"step-3-merging-and-blending-ameriflux-with-era5-data","dir":"Articles","previous_headings":"Workflow","what":"Step 3: Merging and Blending AmeriFlux with ERA5 Data","title":"Getting Started","text":"processed ERA5 data, can merge AmeriFlux data. merge_ERA5_Flux() function synchronizes AmeriFlux tower observations ERA5 reanalysis data, ensuring datasets share consistent timestamps comparable variable names. first reads AmeriFlux BASE data, replaces missing values NA, imports processed ERA5 CSV file generated netcdf_to_csv(). ERA5 data typically hourly AmeriFlux data often half-hourly, function linearly interpolates ERA5 variables match AmeriFlux time step. merges datasets based aligned time column, adding corresponding AmeriFlux ERA5 variables side side. resulting data frame provides harmonized, site-specific time series researchers can use compare reanalysis situ flux measurements, fill short data gaps, prepare blended climate–flux inputs ecosystem hydrological modeling. shown , merged data contains ERA5 data ssrd, well AmeriFlux data SW_IN. Finally, can blend merged data. blend_ERA5_Flux() function combines AmeriFlux ERA5 datasets single, gap-filled time series applying flexible blending rules determine missing incomplete AmeriFlux data replaced adjusted using ERA5 values. Building merged output merge_ERA5_Flux(), function allows users select among four blending approaches: simple replacement, linear regression without intercept, automatic rule adapts based data completeness. example, half AmeriFlux values available, function uses regression-based correction preserve site-specific patterns filling gaps; otherwise, substitutes ERA5 data directly. blended output adds new columns (e.g., SW_IN_f, TA_f) contain harmonized variables, producing continuous, high-quality dataset suitable modeling, data assimilation, long-term flux-climate analysis. final result look something like : example, simple replacement blending rule used, new SW_IN_f column created values ERA5 column, ssrd.","code":"# Point to AmeriFlux data ameriflux_file <- system.file(\"extdata\", \"AMF_US-GL2_BASE-BADM_1-5.zip\", package = \"ERA5Flux\") # Point to ERA5 data era5_file <- list.files(output_filepath, pattern = \"US_GL2\", full.names = TRUE)  # List AmeriFlux variable(s) to be merged  ameriflux_var <- c(\"SW_IN\") # List ERA5 variable(s) to be merged  era5_var <- c(\"ssrd\")  # Merge them together merged_data <- merge_ERA5_Flux(filename_FLUX = ameriflux_file,                                filename_ERA5 = era5_file,                                varname_FLUX = ameriflux_var,                                varname_ERA5 = era5_var)  merged_data[1:20,] #>                   time     ssrd SW_IN #> 1  2024-12-31 19:00:00 663.4275    NA #> 2  2024-12-31 19:30:00 331.7138    NA #> 3  2024-12-31 20:00:00   0.0000    NA #> 4  2024-12-31 20:30:00   0.0000    NA #> 5  2024-12-31 21:00:00   0.0000    NA #> 6  2024-12-31 21:30:00   0.0000    NA #> 7  2024-12-31 22:00:00   0.0000    NA #> 8  2024-12-31 22:30:00   0.0000    NA #> 9  2024-12-31 23:00:00   0.0000    NA #> 10 2024-12-31 23:30:00   0.0000    NA #> 11 2025-01-01 00:00:00   0.0000 0.483 #> 12 2025-01-01 00:30:00   0.0000 0.518 #> 13 2025-01-01 01:00:00   0.0000 0.541 #> 14 2025-01-01 01:30:00   0.0000 0.476 #> 15 2025-01-01 02:00:00   0.0000 0.442 #> 16 2025-01-01 02:30:00   0.0000 0.438 #> 17 2025-01-01 03:00:00   0.0000 0.500 #> 18 2025-01-01 03:30:00   0.0000 0.449 #> 19 2025-01-01 04:00:00   0.0000 0.502 #> 20 2025-01-01 04:30:00   0.0000 0.478 # Specify the blending rule(s) # If you have multiple variables, specify a rule for each variable blending_rule <- c(\"replace\")  # Blend them together blended_data <- blend_ERA5_Flux(merged_data = merged_data,                                 varname_FLUX = ameriflux_var,                                 varname_ERA5 = era5_var,                                 blending_rule = blending_rule) #> Processing: SW_IN using rule: replace  blended_data[1:20,] #>                   time     ssrd SW_IN  SW_IN_f #> 1  2024-12-31 19:00:00 663.4275    NA 663.4275 #> 2  2024-12-31 19:30:00 331.7138    NA 331.7138 #> 3  2024-12-31 20:00:00   0.0000    NA   0.0000 #> 4  2024-12-31 20:30:00   0.0000    NA   0.0000 #> 5  2024-12-31 21:00:00   0.0000    NA   0.0000 #> 6  2024-12-31 21:30:00   0.0000    NA   0.0000 #> 7  2024-12-31 22:00:00   0.0000    NA   0.0000 #> 8  2024-12-31 22:30:00   0.0000    NA   0.0000 #> 9  2024-12-31 23:00:00   0.0000    NA   0.0000 #> 10 2024-12-31 23:30:00   0.0000    NA   0.0000 #> 11 2025-01-01 00:00:00   0.0000 0.483   0.0000 #> 12 2025-01-01 00:30:00   0.0000 0.518   0.0000 #> 13 2025-01-01 01:00:00   0.0000 0.541   0.0000 #> 14 2025-01-01 01:30:00   0.0000 0.476   0.0000 #> 15 2025-01-01 02:00:00   0.0000 0.442   0.0000 #> 16 2025-01-01 02:30:00   0.0000 0.438   0.0000 #> 17 2025-01-01 03:00:00   0.0000 0.500   0.0000 #> 18 2025-01-01 03:30:00   0.0000 0.449   0.0000 #> 19 2025-01-01 04:00:00   0.0000 0.502   0.0000 #> 20 2025-01-01 04:30:00   0.0000 0.478   0.0000"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Angel Chen. Author, maintainer.           angelchen7.github.io Sam Jurado. Author. David E Reed. Author. Ammara Talib. Author. Junna Wang. Author. Boya Zhang. Author. Sparkle L Malone. Author.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Chen , Jurado S, Reed D, Talib , Wang J, Zhang B, Malone S (2025). ERA5Flux: Improve Utility ERA5 Data AmeriFlux Site Locations. R package version 0.0.0.9000, https://github.com/Malone-Disturbance-Ecology-Lab/ERA5Flux.","code":"@Manual{,   title = {ERA5Flux: Improve the Utility of ERA5 Data at AmeriFlux Site Locations},   author = {Angel Chen and Sam Jurado and David E Reed and Ammara Talib and Junna Wang and Boya Zhang and Sparkle L Malone},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/Malone-Disturbance-Ecology-Lab/ERA5Flux}, }"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/index.html","id":"era5flux-improve-the-utility-of-era5-data-at-ameriflux-site-locations","dir":"","previous_headings":"","what":"Improve the Utility of ERA5 Data at AmeriFlux Site Locations","title":"Improve the Utility of ERA5 Data at AmeriFlux Site Locations","text":"primary objective package improve utility ERA5 data AmeriFlux site locations. package comprises collection tools useful workflows involving ERA5 AmeriFlux data. includes functions downloading ERA5 data based AmeriFlux sites, formatting downloaded data match AmeriFlux standards, merging datasets together ensure consistent timestamps, blending create single gap-filled time series.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Improve the Utility of ERA5 Data at AmeriFlux Site Locations","text":"can install development version ERA5Flux GitHub :","code":"# install.packages(\"pak\") pak::pak(\"Malone-Disturbance-Ecology-Lab/ERA5Flux\")"},{"path":[]},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/index.html","id":"main-workflow","dir":"","previous_headings":"Function Overview","what":"Main Workflow","title":"Improve the Utility of ERA5 Data at AmeriFlux Site Locations","text":"utc_offset(): produces hour offset number converting local UTC, offset difference UTC local time without considering Daylight Saving Time get_site_metadata(): builds AmeriFlux site metadata file get_land_sea_mask(): downloads netCDF land-sea mask ERA5 get_land_proportion(): returns land proportion given latitude longitude download_ERA5(): downloads ERA5 data site specified AmeriFlux site metadata data frame netcdf_df_formatter(): reformats ERA5 .nc data data frame netcdf_to_csv(): takes directory ERA5 .nc data argument exports data CSV format merge_ERA5_Flux(): merges data AmeriFlux data ERA5, ensuring start end timestamps blend_ERA5_Flux(): blends data AmeriFlux data ERA5, ensuring start end timestamps","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/index.html","id":"other-functions","dir":"","previous_headings":"Function Overview","what":"Other Functions","title":"Improve the Utility of ERA5 Data at AmeriFlux Site Locations","text":"check_DST(): checks given time point Daylight Saving Time (DST) , adjust time standard (non-DST) time date_conversion(): produces converted time, either UTC -> local, local -> UTC day_padding(): pads 1 day beginning ending days, adding 1 day start end dates future time zone offset issues","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/blend_ERA5_Flux.html","id":null,"dir":"Reference","previous_headings":"","what":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","title":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","text":"function used blend data AmeriFlux data ERA5, ensuring start end timestamps. Please first make sure run merge function (merge_ERA5_Flux()) first, output merge function used input blending function.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/blend_ERA5_Flux.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","text":"","code":"blend_ERA5_Flux(   merged_data = NULL,   varname_FLUX = NULL,   varname_ERA5 = NULL,   blending_rule = NULL )"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/blend_ERA5_Flux.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","text":"merged_data (data.frame) data frame datetime stamp column named \"time\" format: \"%Y-%m-%d %H:%M:%S\". time step \"time\" column AmeriFlux file. also includes columns AmeriFlux ERA5 data merged together. varname_FLUX (character) vector variable names AmeriFlux BASE data blended ERA5 data. varname_ERA5 (character) vector variable names ERA5 data blended AmeriFlux BASE data. blending_rule (character) vector blending rules use. four types blending rules can used blend AmeriFlux ERA5 variables: \"lm\": Linear regression slope. Fits linear model slope, FLUX ~ ERA5, fills missing values FLUX predicted values ERA5. \"lm_no_intercept\": Linear regression without slope. Fits linear model without slope, FLUX ~ ERA5, fills missing values FLUX predicted values ERA5. \"replace\": Replace Ameriflux variable ERA5 variable. \"automatic\": Checks non-missing FLUX values. ≥50% present uses \"lm\" approach. <50% present fallback \"replace\".","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/blend_ERA5_Flux.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","text":"(data.frame) data frame following characteristics: Time step \"time\" column AmeriFlux file. also includes columns varname_FLUX, columns varname_ERA5. Variable column blending rule applied . Name blended column similar AmeriFlux column name addition \"_f\".","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/blend_ERA5_Flux.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","text":"Please note length varname_FLUX must length varname_ERA5; location, varname_FLUX varname_ERA5 refer variable despite fact AmeriFlux ERA5 may use different names variable. example, incoming shortwave radiation, ERA5 uses \"ssrd\", AmeriFlux uses \"SW_IN\". Additionally, multiple variables like precipitation soil temperature, must specify blending rule one.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/blend_ERA5_Flux.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","text":"Ammara Talib Junna Wang","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/blend_ERA5_Flux.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Blend ERA5 and AmeriFlux Data — blend_ERA5_Flux","text":"","code":"# Point to a folder containing ERA5 .nc files site_folder <- system.file(\"extdata\", \"path_to_ERA5_download_folder\", package = \"ERA5Flux\") # Specify a site name site_name <- \"US_GL2\" # Create a temporary directory to export our output to output_filepath <- tempdir()  # Convert NetCDF data to a CSV file netcdf_to_csv(site_folder, output_filepath, site_name, full_year = FALSE) #> Saved: US_GL2_2024_2025_ssrd.csv   # Point to AmeriFlux data filename_FLUX <- system.file(\"extdata\", \"AMF_US-GL2_BASE-BADM_1-5.zip\", package = \"ERA5Flux\") # Point to ERA5 data filename_ERA5 <- list.files(output_filepath, pattern = \"US_GL2\", full.names = TRUE)  # List AmeriFlux variable(s) to be merged with ERA5 varname_FLUX <- c(\"SW_IN\") # List ERA5 variable(s) to be merged with AmeriFlux varname_ERA5 <- c(\"ssrd\")  # Run the merge function first, because its output will be used as input for this blending function # Merge AmeriFlux and ERA5 data together merged_data <- merge_ERA5_Flux(filename_FLUX, filename_ERA5, varname_FLUX, varname_ERA5) head(merged_data) #>                  time     ssrd SW_IN #> 1 2024-12-31 19:00:00 663.4275    NA #> 2 2024-12-31 19:30:00 331.7138    NA #> 3 2024-12-31 20:00:00   0.0000    NA #> 4 2024-12-31 20:30:00   0.0000    NA #> 5 2024-12-31 21:00:00   0.0000    NA #> 6 2024-12-31 21:30:00   0.0000    NA  # Specify the blending rule(s) # If you have multiple variables, specify a rule for each variable blending_rule <- c(\"replace\") # Blend AmeriFlux and ERA5 data together merg_blend <- blend_ERA5_Flux(merged_data, varname_FLUX, varname_ERA5, blending_rule) #> Processing: SW_IN using rule: replace head(merg_blend) #>                  time     ssrd SW_IN  SW_IN_f #> 1 2024-12-31 19:00:00 663.4275    NA 663.4275 #> 2 2024-12-31 19:30:00 331.7138    NA 331.7138 #> 3 2024-12-31 20:00:00   0.0000    NA   0.0000 #> 4 2024-12-31 20:30:00   0.0000    NA   0.0000 #> 5 2024-12-31 21:00:00   0.0000    NA   0.0000 #> 6 2024-12-31 21:30:00   0.0000    NA   0.0000"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/check_DST.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Daylight Saving Time — check_DST","title":"Check Daylight Saving Time — check_DST","text":"function check given time point Daylight Saving Time (DST). , adjust time standard (non-DST) time.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/check_DST.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Daylight Saving Time — check_DST","text":"","code":"check_DST(lat = NULL, lon = NULL, timepoint = NULL)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/check_DST.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Daylight Saving Time — check_DST","text":"lat (numeric) Latitude coordinate decimal degrees. lon (numeric) Longitude coordinate decimal degrees. timepoint (character) Time point either %Y-%m-%d HH:MM:SS %Y/%m/%d HH:MM:SS format.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/check_DST.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Daylight Saving Time — check_DST","text":"(list) list containing boolean representing DST status standard time DST effect.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/check_DST.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Daylight Saving Time — check_DST","text":"","code":"# This will get the current time timepoint <- lubridate::now() # Check whether the time is in DST at latitude 25.4, longitude -80.5 and get the standard time if so is_DST <- check_DST(lat = 25.4, lon = -80.5, timepoint) is_DST #> $is_DST #> [1] FALSE #>  #> $standard_time #> [1] \"2025-11-04 15:32:08 EST\" #>"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/date_conversion.html","id":null,"dir":"Reference","previous_headings":"","what":"Date Conversion — date_conversion","title":"Date Conversion — date_conversion","text":"function produce converted time, either UTC -> local, local -> UTC.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/date_conversion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Date Conversion — date_conversion","text":"","code":"date_conversion(lat = NULL, lon = NULL, time = NULL, flag = NULL)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/date_conversion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Date Conversion — date_conversion","text":"lat (numeric) Latitude coordinate decimal degrees. lon (numeric) Longitude coordinate decimal degrees. time (character) Time %Y-%m-%d %H:%M:%S format. flag (numeric) Set flag 0 local UTC, set flag 1 UTC local.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/date_conversion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Date Conversion — date_conversion","text":"POSIXct object.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/date_conversion.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Date Conversion — date_conversion","text":"TAKES ACCOUNT Daylight Saving Time!!","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/date_conversion.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Date Conversion — date_conversion","text":"Boya (\"Paul\") Zhang","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/date_conversion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Date Conversion — date_conversion","text":"","code":"# Convert local to UTC utc_result_winter <- date_conversion(25.2, -80.4, \"2018-01-16 22:02:37\", 0) #> [1] \"America/New_York\" utc_result_winter #> [1] \"2018-01-16 22:02:37 UTC\"  # Convert UTC to local local_result <- date_conversion(25.2, -80.4, \"2018-01-16 22:02:37\", 1) #> [1] \"America/New_York\" local_result #> [1] \"2018-01-16 17:02:37 EST\""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/day_padding.html","id":null,"dir":"Reference","previous_headings":"","what":"Pad Dates by 1 Day — day_padding","title":"Pad Dates by 1 Day — day_padding","text":"function designed pad 1 day beginning ending days. add 1 day start end dates future time zone offset issues.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/day_padding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pad Dates by 1 Day — day_padding","text":"","code":"day_padding(start_day = NULL, end_day = NULL)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/day_padding.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pad Dates by 1 Day — day_padding","text":"start_day (character) Start date either %Y-%m-%d %Y/%m/%d format. end_day (character) End date either %Y-%m-%d %Y/%m/%d format.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/day_padding.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pad Dates by 1 Day — day_padding","text":"(character) New start end dates either %Y-%m-%d %Y/%m/%d format, padded 1 day .","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/day_padding.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Pad Dates by 1 Day — day_padding","text":"Boya (\"Paul\") Zhang","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/day_padding.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pad Dates by 1 Day — day_padding","text":"","code":"# Pad starting and ending dates by 1 day result <- day_padding(\"2024-01-01\", \"2025-12-31\") result #> $start_day #> [1] \"2023-12-31\" #>  #> $end_day #> [1] \"2026-01-01\" #>"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/download_ERA5.html","id":null,"dir":"Reference","previous_headings":"","what":"Download ERA5 Data — download_ERA5","title":"Download ERA5 Data — download_ERA5","text":"function uses ecmwfr package download ERA5 data site specified AmeriFlux site metadata data frame. temporal geographical coverage downloaded data match AmeriFlux site metadata data frame.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/download_ERA5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download ERA5 Data — download_ERA5","text":"","code":"download_ERA5(   my_token = NULL,   site_metadata = NULL,   mask = NULL,   download_path = NULL )"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/download_ERA5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download ERA5 Data — download_ERA5","text":"my_token (character) secret ECMWF token. site_metadata (data.frame) data frame AmeriFlux site metadata. Create metadata get_site_metadata(). mask (character) File path ERA5 land-sea mask. Get mask get_land_sea_mask(). download_path (character) Path folder ERA5 data get downloaded .","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/download_ERA5.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download ERA5 Data — download_ERA5","text":"(character) Paths downloaded files.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/download_ERA5.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Download ERA5 Data — download_ERA5","text":"done already, may need accept data license agreement first can download data. Visit Copernicus Climate Data Store User Profile page https://cds.climate.copernicus.eu/profile accept appropriate license(s).","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/download_ERA5.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download ERA5 Data — download_ERA5","text":"David Reed","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/download_ERA5.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download ERA5 Data — download_ERA5","text":"","code":"if (FALSE) { # \\dontrun{ # Specify your variables my_variables <- c(\"2m_temperature\", \"total_precipitation\", \"surface_solar_radiation_downwards\") # Create the AmeriFlux site metadata site_metadata <- get_site_metadata(folder = \"path_to_data_folder\",                                    selected_variables = my_variables)  # Download the corresponding ERA5 data download_ERA5(my_token = \"my_ECMWF_token\",               site_metadata = site_metadata,               mask = \"path_to_ERA5_land_sea_mask\",               download_path = \"path_to_ERA5_download_folder\") } # }"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_proportion.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Land Proportion — get_land_proportion","title":"Get Land Proportion — get_land_proportion","text":"function designed return land proportion given latitude longitude.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_proportion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Land Proportion — get_land_proportion","text":"","code":"get_land_proportion(nc_file = NULL, lat = NULL, lon = NULL)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_proportion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Land Proportion — get_land_proportion","text":"nc_file (character) File path .nc file. lat (numeric) Latitude coordinate decimal degrees. lon (numeric) Longitude coordinate decimal degrees.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_proportion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Land Proportion — get_land_proportion","text":"(data.frame) data frame containing land proportion.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_proportion.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Get Land Proportion — get_land_proportion","text":"cycles ECMWF Integrated Forecasting System (IFS) CY41R1 (introduced May 2015) onwards, grid boxes parameter value 0.5 can comprised mixture land inland water ocean. Grid boxes value 0.5 can comprised water surface. latter case, lake cover used determine much water surface ocean inland water. cycles IFS CY41R1, grid boxes parameter value 0.5 can comprised land grid boxes value 0.5 can comprised ocean. older model cycles, differentiation ocean inland water.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_proportion.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get Land Proportion — get_land_proportion","text":"Boya (\"Paul\") Zhang","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_proportion.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Land Proportion — get_land_proportion","text":"","code":"if (FALSE) { # \\dontrun{ land_proportion <- get_land_proportion(\"file_path_to_the_nc_file\", 25.2, -80.3) } # }"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_sea_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Land-Sea Mask from ERA5 — get_land_sea_mask","title":"Get Land-Sea Mask from ERA5 — get_land_sea_mask","text":"function downloads netCDF land-sea mask ERA5. mask needed order run download_ERA5(). mask can found online : https://confluence.ecmwf.int/pages/viewpage.action?pageId=140385202#ERA5Land:datadocumentation-parameterlistingParameterlistings.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_sea_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Land-Sea Mask from ERA5 — get_land_sea_mask","text":"","code":"get_land_sea_mask(   file_name = \"lsm_1279l4_0.1x0.1.grb_v4_unpack.nc\",   download_path = getwd() )"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_sea_mask.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Land-Sea Mask from ERA5 — get_land_sea_mask","text":"file_name (character) Name land-sea mask. default name \"lsm_1279l4_0.1x0.1.grb_v4_unpack.nc\". download_path (character) Path existing folder land-sea mask get downloaded . default location current working directory.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_sea_mask.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Land-Sea Mask from ERA5 — get_land_sea_mask","text":"Path downloaded land-sea mask (invisibly).","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_land_sea_mask.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Land-Sea Mask from ERA5 — get_land_sea_mask","text":"","code":"if (FALSE) { # \\dontrun{ get_land_sea_mask() } # }"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_site_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get AmeriFlux Site Metadata — get_site_metadata","title":"Get AmeriFlux Site Metadata — get_site_metadata","text":"function designed build AmeriFlux site metadata file. site metadata file consists site code, latitude, longitude, start date, end data, variables needed. downloading AmeriFlux data, select sites, download data \"requested_files_manifest\" file. extract files data folder. Variables need added user.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_site_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get AmeriFlux Site Metadata — get_site_metadata","text":"","code":"get_site_metadata(folder = NULL, selected_variables = NULL)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_site_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get AmeriFlux Site Metadata — get_site_metadata","text":"folder (character) Path folder containing extracted AmeriFlux data \"requested_files_manifest\" file. selected_variables (character) vector variable names.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_site_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get AmeriFlux Site Metadata — get_site_metadata","text":"(data.frame) data frame containing site metadata.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_site_metadata.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get AmeriFlux Site Metadata — get_site_metadata","text":"David Reed","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/get_site_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get AmeriFlux Site Metadata — get_site_metadata","text":"","code":"if (FALSE) { # \\dontrun{ # Specify your variables my_variables <- c(\"2m_temperature\", \"total_precipitation\", \"surface_solar_radiation_downwards\") # Create the AmeriFlux site metadata site_metadata <- get_site_metadata(folder = \"path_to_data_folder\",                                    selected_variables = my_variables) } # }"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/merge_ERA5_Flux.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","title":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","text":"function used merge data AmeriFlux data ERA5, ensuring start end timestamps.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/merge_ERA5_Flux.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","text":"","code":"merge_ERA5_Flux(   filename_FLUX = NULL,   filename_ERA5 = NULL,   varname_FLUX = NULL,   varname_ERA5 = NULL )"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/merge_ERA5_Flux.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","text":"filename_FLUX (character) file path AmeriFlux BASE data downloaded https://ameriflux.lbl.gov/. filename_ERA5 (character) file path CSV file meterological data downloaded ERA5 https://cds.climate.copernicus.eu/datasets/reanalysis-era5-single-levels?tab=overview. Please note original ERA5 files .nc format. may want convert files CSV format using function netcdf_to_csv(). varname_FLUX (character) vector variable names AmeriFlux BASE data merged ERA5 data. varname_ERA5 (character) vector variable names ERA5 data merged AmeriFlux BASE data.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/merge_ERA5_Flux.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","text":"(data.frame) data frame following characteristics: Datetime stamp column named \"time\" format: \"%Y-%m-%d %H:%M:%S\". Time step \"time\" column AmeriFlux file. also includes columns varname_FLUX, columns varname_ERA5.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/merge_ERA5_Flux.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","text":"Please note length varname_FLUX must length varname_ERA5; location, varname_FLUX varname_ERA5 refer variable despite fact AmeriFlux ERA5 may use different names variable. example, incoming shortwave radiation, ERA5 uses \"ssrd\", AmeriFlux uses \"SW_IN\".","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/merge_ERA5_Flux.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","text":"Ammara Talib Junna Wang","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/merge_ERA5_Flux.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge ERA5 and AmeriFlux Data — merge_ERA5_Flux","text":"","code":"# Point to a folder containing ERA5 .nc files site_folder <- system.file(\"extdata\", \"path_to_ERA5_download_folder\", package = \"ERA5Flux\") # Specify a site name site_name <- \"US_GL2\" # Create a temporary directory to export our output to output_filepath <- tempdir()  # Convert NetCDF data to a CSV file netcdf_to_csv(site_folder, output_filepath, site_name, full_year = FALSE) #> Saved: US_GL2_2024_2025_ssrd.csv   # Point to AmeriFlux data filename_FLUX <- system.file(\"extdata\", \"AMF_US-GL2_BASE-BADM_1-5.zip\", package = \"ERA5Flux\") # Point to ERA5 data filename_ERA5 <- list.files(output_filepath, pattern = \"US_GL2\", full.names = TRUE)  # List AmeriFlux variable(s) to be merged with ERA5 varname_FLUX <- c(\"SW_IN\") # List ERA5 variable(s) to be merged with AmeriFlux varname_ERA5 <- c(\"ssrd\")  # Merge AmeriFlux and ERA5 data together merged_data <- merge_ERA5_Flux(filename_FLUX, filename_ERA5, varname_FLUX, varname_ERA5) head(merged_data) #>                  time     ssrd SW_IN #> 1 2024-12-31 19:00:00 663.4275    NA #> 2 2024-12-31 19:30:00 331.7138    NA #> 3 2024-12-31 20:00:00   0.0000    NA #> 4 2024-12-31 20:30:00   0.0000    NA #> 5 2024-12-31 21:00:00   0.0000    NA #> 6 2024-12-31 21:30:00   0.0000    NA"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_df_formatter.html","id":null,"dir":"Reference","previous_headings":"","what":"NetCDF Reformatter — netcdf_df_formatter","title":"NetCDF Reformatter — netcdf_df_formatter","text":"Reformats ERA5 .nc data data frame.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_df_formatter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NetCDF Reformatter — netcdf_df_formatter","text":"","code":"netcdf_df_formatter(nc_file_path = NULL)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_df_formatter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"NetCDF Reformatter — netcdf_df_formatter","text":"nc_file_path (character) File path ERA5 NetCDF file.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_df_formatter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"NetCDF Reformatter — netcdf_df_formatter","text":"(data.frame) Data frame following characteristics: Datetime stamp column named \"time\". UTC timezones converted local time. SiteID determined lat lon coordinates df.sitemetadata. Time column formatted yyyyMMddHHmm, time zone determined using coordinates. Variables names ERA5 dataset maintained. ERA5 units converted Ameriflux units: Solar radiation (ssrd) Jm-2 Wm-2. Air Temperature (t2m) Kelvin Celsius. Total precipitation (tp) meters millimeters.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_df_formatter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"NetCDF Reformatter — netcdf_df_formatter","text":"","code":"# Point to a NetCDF file nc_file_path <- system.file(\"extdata\", \"path_to_ERA5_download_folder\",                             \"ERA5-US-GL2-2025-1.nc\", package = \"ERA5Flux\") # Reformat the NetCDF result <- netcdf_df_formatter(nc_file_path) head(result) #>           time     ssrd #> 1 202412311900 663.4275 #> 2 202412312000   0.0000 #> 3 202412312100   0.0000 #> 4 202412312200   0.0000 #> 5 202412312300   0.0000 #> 6 202501010000   0.0000"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_to_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Export NetCDF to CSV — netcdf_to_csv","title":"Export NetCDF to CSV — netcdf_to_csv","text":"Takes directory ERA5 .nc data argument exports data CSV format. function grabs NetCDF file runs netcdf_df_formatter() . builds list variables across data frames folder joins data time, filtering return full years data.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_to_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export NetCDF to CSV — netcdf_to_csv","text":"","code":"netcdf_to_csv(   site_folder = NULL,   output_filepath = NULL,   site_name = NULL,   full_year = FALSE )"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_to_csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export NetCDF to CSV — netcdf_to_csv","text":"site_folder (character) folder one site NetCDF data. NetCDF files can different variables different years long one site. output_filepath (character) File path output CSV written. site_name (character) Name site concatenated onto CSV file name (e.g. US_GL2). full_year (bool) Filter include complete years, data star first hour year ends last hour year. Otherwise, return data .","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_to_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export NetCDF to CSV — netcdf_to_csv","text":".csv file NetCDF data within site folder. .csv file file name format: siteID_startYear_endYear_variableName.csv. example, US-Ho1_2001_2020_tp_t2m.csv. SiteID determined lat lon coordinates df.sitemetadata. CSV file starts first hour year (e.g., 2000-01-01 00:00) ends last hour year (e.g., 2020-12-31 23:00) full_year == TRUE.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/netcdf_to_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export NetCDF to CSV — netcdf_to_csv","text":"","code":"# Point to a folder containing ERA5 .nc files site_folder <- system.file(\"extdata\", \"path_to_ERA5_download_folder\", package = \"ERA5Flux\") # Specify a site name site_name <- \"US_GL2\" # Create a temporary directory to export our output to output_filepath <- tempdir()  # Convert NetCDF data to a CSV file netcdf_to_csv(site_folder, output_filepath, site_name, full_year = FALSE) #> Saved: US_GL2_2024_2025_ssrd.csv   # Read the CSV back in data <- read.csv(list.files(output_filepath, pattern = \"US_GL2\", full.names = TRUE)) head(data) #>           time     ssrd #> 1 202412311900 663.4275 #> 2 202412312000   0.0000 #> 3 202412312100   0.0000 #> 4 202412312200   0.0000 #> 5 202412312300   0.0000 #> 6 202501010000   0.0000"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/utc_offset.html","id":null,"dir":"Reference","previous_headings":"","what":"Coordinated Universal Time (UTC) Offset — utc_offset","title":"Coordinated Universal Time (UTC) Offset — utc_offset","text":"Offset difference UTC local time without considering Daylight Saving Time. function produce hour offset number converting local UTC.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/utc_offset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coordinated Universal Time (UTC) Offset — utc_offset","text":"","code":"utc_offset(lat = NULL, lon = NULL)"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/utc_offset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coordinated Universal Time (UTC) Offset — utc_offset","text":"lat (numeric) Latitude coordinate decimal degrees. lon (numeric) Longitude coordinate decimal degrees.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/utc_offset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coordinated Universal Time (UTC) Offset — utc_offset","text":"(numeric) UTC offset.","code":""},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/reference/utc_offset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coordinated Universal Time (UTC) Offset — utc_offset","text":"","code":"# Get the UTC offset at latitude 25.4, longitude -80.5 offset <- utc_offset(lat = 25.4, lon = -80.5) #> [1] -5"},{"path":"https://malone-disturbance-ecology-lab.github.io/ERA5Flux/news/index.html","id":"era5flux-0009000","dir":"Changelog","previous_headings":"","what":"ERA5Flux 0.0.0.9000","title":"ERA5Flux 0.0.0.9000","text":"package currently development.","code":""}]
